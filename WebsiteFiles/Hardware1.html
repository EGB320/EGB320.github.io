<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>EGB320 Mechatronics Design 2</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link id="pagestyle" rel="stylesheet" href="assets/css/main.css" />
		<link href="assets/css/main.css" media="print" rel="stylesheet" />

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123133357-1"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'UA-123133357-1');
		</script>
	</head>

	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
								<header id="header">
									<div id="col-12">
								        <div class="row" style="position: relative; top: 0.75em;">
								        	<a href="#" class="button pdf-exclude icon fa-print" style="position: absolute; right: 1em; bottom: 2.5em;" onclick="CreateDocumentToExportPDF('filename.pdf')"></a>
								        </div>
								        <div class="row" style="position: relative;">
								        	<a href="index.html" class="logo">EGB320 - Mechatronics Design 2</a>
											<a id="date" class="logo date" style="position: absolute; right: 1em;">Date</a>
										</div>
								    </div>
								</header>

							<!-- Content -->
								<section>
									<div class="page-wrapper"> 
										<header class="main">
											<h1>Hardware 1</h1>
										</header>							

										<p>Overview to do</p>

										<p>Credit to http://www.simonbramble.co.uk/dc_dc_converter_design/dc_dc_converter_design.htm</p>

										<hr class="major pdf-exclude" />
										<h2>Voltage Regulation Basics</h2>
										
										<p>Voltage regulators are a critical part of any electrical circuit and are used to convert an input voltage into a desired output voltage. There are various types of voltage regulators. You all have probably used a linear voltage regulator, like the LM7805, in the past to regulate an input voltage to 5 volts. However, linear regulators have two disadvantages. First off, they can only step-down voltages, and two they can be very inefficient (depending on the input and output voltages). Switching regulators are far more useful when compared to linear regulators. Switching regulators can reach efficiencies up to 90% as well as have the ability to step-down and step-up voltages. Unfortunately, switching regulators require a few more extra components and are slightly more complex.</p>

										<p>SIDE BY SIDE FIGURE OF LINEAR AND SWITCHING REGULATOR</p>

										<p>There are several types of switching regulators that allow you to do various voltage conversions. These differenty types are known as topologies. The topologies of a switching regulator include:</p>

										<ul>
											<li>Buck Converters - used to step-down to a fixed voltage.</li>
											<li>Boost Converters - used to step-up to a fixed voltage.</li>
											<li>Buck-Boost Converters - used to either step-up or step-down a voltage to a fixed voltage.</li>
										</ul>

										<hr class="major pdf-exclude" />
										<h2>Inductor Basics</h2>
										<p>The inductor is the critical component that underpins switching regulators. When a voltage is applied across an inductor the current through the inductor behaves based on the equation:</p>

										<pre><code>V &frascl; L = di &frasl; dt

# Where
V = the voltage across the inductor
L = the inductor value in Henries
di = the change in current in Amps
dt = the change in time in seconds</code></pre>

										<p>In simple terms if a fixed voltage is applied to a fixed value inductor then the current through the inductor will ramp up linearly with time. One of the most important aspects of the inductor though is its behaviour when the voltage is removed.</p>

										<p>When a voltage across an inductor is removed the inductor tries to keep the current flow constant. This means that the inductor will "generate" its own voltage to keep the same current flow. This phenomonem is what powers switch converters (pun intended).</p>

										<p>IF I GET TIME WILL SHOW AN EXAMPLE OF A DIOE, INDUCTOR, CAPACITOR, SWITCH SETUP TO SHOW THIS PHENOMOMEN IN ACTION USING LTSPICE. Schematic is source going to an inductor. The output side of the inductor is connected to a diode and a switch. The switch is connected to ground. The diode is connected to a capacitor as well as to the load. The capacitor is going to ground.</p>


										<hr class="major pdf-exclude" />
										<h2>Designing a Switching Regulator</h2>
										<p>Now you do not need to design a switching regulator from scratch. Like a linear regulator you will choose an IC that applies to your application and then add in surrounding components to suit. However, there is a bit more work involved in selecting the surrounding components within a switching regulator. The main component we need to select is the inductor.</p>

										<p>FIGURE OF SWITCHING REGULATOR</p>	

										<p>For this example we are going to design buck (step-down) converter that regulates a 2 cell LiPo battery (6.4-8.4 volts) down to 5 volts with a 2.5 Amp maximum output.</p>

										<h3>Choosing a Switching IC</h3>
										<p>The first step is choosing an IC to use. There are many manufacturers and they all have different properties. You will need to ensure that the input and output voltages are within the range of your required application and that the maximum current is applicable. Additionally, we recommend you find one with voltage, thermal and short-circuit protection ciruitry. Furthermore, ensure that the IC package is something that you will be able to solder. For this guide we have selected the RichTek RT6254A switching converter, the datasheet can be found <a target="_blank" href="https://www.richtek.com/assets/product_file/RT6254A=RT6254B/DS6254AB-02.pdf">here</a>.</p> 

										<p>Make sure when you select your IC you read through the datasheet before committing to that one. Why? Well it is critical you understand the datasheet, if you do not it will make it extremely difficult to design your switching regulator. The main thing to understand is the section about component selection. If this section is hard to follow for you do not select this IC. Another good thing to look out for is if the datasheet already includes some suggested component values for different situations, for an example of what we mean see page 7 on the RichTek datasheet. You should not necessarily use these values, you should calculate your own, but they are nice thing to check to see if your values are in the right ball park.</p>

										<p>We are now going to go through and select the required components for the RichTek regulator to step down our 2 cell LiPo to 5V at 2.5A. If you scroll down to page 11 of the datasheet you will get to the section titled Application Information which details how we go about selecting our components. Check out the typical application circuit diagram, shown below, to see the circuit we will be designing and some of the components we need to choose.</p>

										<figure class="figure">
	    										<img src="images/Hardware1/RichTek_CircuitDiagram.png" width="60%" alt="Image Not Found" />
	    										<figcaption>Typical Circuit Diagram for the RichTek RT6254A Switching Regulator</figcaption>
										</figure>

										<p><b>Important:</b> Remember to ensure that when selecting a component that it is in stock and that you will be able to solder it by hand.</p>

										<p><b>Important:</b> Remember selecting these components will depend on your chosen regulator, and you will need to read through the datasheet notes to help you choose them.</p>

										<h3>Inductor Selection</h3>
										<p>The first thing the datasheet discuss, in regards to components, is how to select a suitable inductor. To determine the value of the inductor the datasheet states the following formula.</p>

										<figure class="figure">
	    										<img src="images/Hardware1/RichTek_InductorSelection.png" width="30%" alt="Image Not Found" />
	    										<figcaption>Formula to Select an Inductor for the RichTek Regulator</figcaption>
										</figure>
										
										<p>For our scenario we have V<sub>out</sub> equal to 5V, V<sub>in</sub> can be anywhere between 6.4 to 8.4V (we will use the nominal battery voltage of 7.4V though), a switching frequency (f<sub>sw</sub>) of 500kHz and a ripple current (&Delta;I) of 1.2A. Based on these values we calculate the inductor value to be 4.0uH.</p>

										<p>Now we can determine the peak inductor current. This is important to know as we need to select an inductor that has a saturation current above this value, as well as ensuring the current limit of the IC is below this value (the table on page 6 shows the current limit). To calculate the inductor peak current we the datasheet provides us with the following formula.</p>

										<figure class="figure">
	    										<img src="images/Hardware1/RichTek_InductorPeak.png" width="30%" alt="Image Not Found" />
	    										<figcaption>Formula to Determine the Peak Inductor Current</figcaption>
										</figure>

										<p>For this example we determine the peak current to be 4.6 Amps. We need to double check that this value is less than the IC current limit, which it is, so we can continue on with our design.</p>

										<p>We will now go choose an inductor with a value of approximately 4uH and ensure that its saturation current is greater than 4.6 Amps. For this example we went and found the following <a target="_blank" href="https://www.digikey.com.au/product-detail/en/pulse-electronics-power/PA4342.402NLT/553-3437-2-ND/5641799">inductor</a>. This is a 4uH inductor with a current rating of 10A and a saturation current of 18A, which should be fine for our application.</p>

										<p><b>Important:</b> If you select an inductor with a value that is not exactly what you calculated you will need to go back and recalculate the inductor ripple and peak current and ensure these values are within the limits.</p>

										<h3>Input Capacitor Selection</h3>
										<p>The next step is to determine the value of the input capacitor. This value can be calculated using the following formula. Using an I<sub>out</sub> value of 3A and a input voltage ripple of 200mV we determine the minimum capacitor value to be 6.6uF.</p>

										<figure class="figure">
	    										<img src="images/Hardware1/RichTek_InCapSelection.png" width="30%" alt="Image Not Found" />
	    										<figcaption>Formula to Determine the Input Capacitor Value</figcaption>
										</figure>

										<p>Since our minimum capacitor value is less then 10uF we are going to follow the datasheet's recommendation which states <i>"... the typical operating circuit used two 10uF low ESR ceramic capacitors on the VIN pin [in parallel] and an additional 0.1uF capacitor is recommend to be placed as close as possible to the IC input side for high frequency filtering."</i> ESR stands for equivalent series resistance. The ESR for a ceramic capacitor is anywhere between 5 and 100mOhms. The ESR is typically found within a characteristic sheet for the capacitor within a graph. The ESR is dependent on the operating frequency. A low ESR is typically less than 10mOhms. For this design we will use two of these 10uF <a target="_blank" href="https://www.digikey.com.au/product-detail/en/samsung-electro-mechanics/CL10A106MA8NRNC/1276-1869-6-ND/3892383">capacitors</a> which have an approximate ESR of 5mOhms at 500kHz. The ESR was approximated from the characteristic sheet.</p>

										<p><b>Important:</b> Ensure that the capacitor you select is rated for at least double the voltage that will be across it. In this example the maximum input voltage is ~8V and so we have ensured that the capacitor voltage rating is equal to or greater than 16V.</p>

										<h3>Output Capacitor Selection</h3>
										<p>The value of the output capacitor is dependent on the desired output ripple voltage and the transient of the output when the the load changes. The output ripple voltage is how much "noise" you are willing to have on the output side. The transient is how quickly you want the converter to react to changes in the load. Changes in the load are when the current draw of the output side changes. This is only a problem if the load current draw changes abruptly.</p>

										<p>For this example we will use the recommend capacitor values from the table on page 7 and check the ripple voltage and transients are appropriate for our application. The datasheet says in a typical application to use two low ESR 22uF capacitors in parallel. So we will use two of these 22uF <a target="_blank" href="https://www.digikey.com.au/product-detail/en/samsung-electro-mechanics/CL31A226KAHNNNE/1276-3047-1-ND/3891133">capacitors</a> which have an ESR of approximately 6mOhms. The ESR was approximated from the ESR Graph within the capacitor's <a target="_blank" href="http://www.samsungsem.com/kr/support/product-search/mlcc/__icsFiles/afieldfile/2016/10/05/Data%20sheet_CL31A226KAHNNNE.pdf">characteristic sheet</a> using a frequency of 500kHz.</p>

										<p>Using the formulas from the datasheet, see the following figure, we calculate the output ripple voltage to be 37.2mV. This value will be fine for our application. We now need to check out the transient.

										<figure class="figure">
	    										<img src="images/Hardware1/RichTek_OutputRippleVoltage.png" width="30%" alt="Image Not Found" />
	    										<figcaption>Formula to Determine the Output Ripple Voltage</figcaption>
										</figure>

										</p>First we calculate the maximum duty cycle (D<sub>max</sub>) to be 0.871. The value for t<sub>off(min)</sub> can be found in the electrical characteristics table. This then leads us to determine the value for V<sub>sag</sub> and V<sub>soar</sub> to be 495mV and 56.8V respectively. These 3 values were determined using the following formulas with a value of 2.5A used for &Delta;I<sub>out</sub>. We used 2.5A as this is the maximum current draw for the Raspberry Pi 3, and this would be the worst case load change for our system. V<sub>sag</sub> and V<sub>soar</sub> represent the how much the voltage would change when the load changes. V<sub>sag</sub> is how much the ouput voltage would change when the load is increased, and V<sub>soar</sub> is how much it would change when the load is decreased. The values we computed are within spec and should not harm the Raspberry Pi during the worst case scenario.</p>

										<figure class="figure">
	    										<img src="images/Hardware1/RichTek_DmaxCalculation.png" width="50%" alt="Image Not Found" />
	    										<figcaption>Formula to Determine Maximum Duty Cycle</figcaption>
										</figure>

										<figure class="figure">
	    										<img src="images/Hardware1/RichTek_VsagCalculation.png" width="50%" alt="Image Not Found" />
	    										<figcaption>Formula to Determine V<sub>sag</sub> of the Converter</figcaption>
										</figure>

										<figure class="figure">
	    										<img src="images/Hardware1/RichTek_VsoarCalculation.png" width="30%" alt="Image Not Found" />
	    										<figcaption>Formula to Determine V<sub>soar</sub> of the Converter</figcaption>
										</figure>
									
										<hr class="major pdf-exclude" />
										<h2>Interdum sed dapibus</h2>
										<p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque venenatis dolor imperdiet dolor mattis sagittis. Praesent rutrum sem diam, vitae egestas enim auctor sit amet. Pellentesque leo mauris, consectetur id ipsum sit amet, fergiat. Pellentesque in mi eu massa lacinia malesuada et a elit. Donec urna ex, lacinia in purus ac, pretium pulvinar mauris. Curabitur sapien risus, commodo eget turpis at, elementum convallis elit. Pellentesque enim turpis, hendrerit.</p>
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dapibus rutrum facilisis. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Etiam tristique libero eu nibh porttitor fermentum. Nullam venenatis erat id vehicula viverra. Nunc ultrices eros ut ultricies condimentum. Mauris risus lacus, blandit sit amet venenatis non, bibendum vitae dolor. Nunc lorem mauris, fringilla in aliquam at, euismod in lectus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In non lorem sit amet elit placerat maximus. Pellentesque aliquam maximus risus, vel sed vehicula. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque venenatis dolor imperdiet dolor mattis sagittis. Praesent rutrum sem diam, vitae egestas enim auctor sit amet. Pellentesque leo mauris, consectetur id ipsum sit amet, fersapien risus, commodo eget turpis at, elementum convallis elit. Pellentesque enim turpis, hendrerit tristique lorem ipsum dolor.</p>
										
										<div class="html2pdf__page-break"></div>
									</div>

										

									<div class="page-wrapper"> 
										<hr class="major pdf-exclude" />
										<h2>Magna etiam veroeros</h2>
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dapibus rutrum facilisis. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Etiam tristique libero eu nibh porttitor fermentum. Nullam venenatis erat id vehicula viverra. Nunc ultrices eros ut ultricies condimentum. Mauris risus lacus, blandit sit amet venenatis non, bibendum vitae dolor. Nunc lorem mauris, fringilla in aliquam at, euismod in lectus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In non lorem sit amet elit placerat maximus. Pellentesque aliquam maximus risus, vel sed vehicula.</p>
										<p>Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque venenatis dolor imperdiet dolor mattis sagittis. Praesent rutrum sem diam, vitae egestas enim auctor sit amet. Pellentesque leo mauris, consectetur id ipsum sit amet, fersapien risus, commodo eget turpis at, elementum convallis elit. Pellentesque enim turpis, hendrerit tristique lorem ipsum dolor.</p>

										<hr class="major pdf-exclude" />
										<h2>Lorem aliquam bibendum</h2>
										<p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque venenatis dolor imperdiet dolor mattis sagittis. Praesent rutrum sem diam, vitae egestas enim auctor sit amet. Pellentesque leo mauris, consectetur id ipsum sit amet, fergiat. Pellentesque in mi eu massa lacinia malesuada et a elit. Donec urna ex, lacinia in purus ac, pretium pulvinar mauris. Curabitur sapien risus, commodo eget turpis at, elementum convallis elit. Pellentesque enim turpis, hendrerit.</p>
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dapibus rutrum facilisis. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Etiam tristique libero eu nibh porttitor fermentum. Nullam venenatis erat id vehicula viverra. Nunc ultrices eros ut ultricies condimentum. Mauris risus lacus, blandit sit amet venenatis non, bibendum vitae dolor. Nunc lorem mauris, fringilla in aliquam at, euismod in lectus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In non lorem sit amet elit placerat maximus. Pellentesque aliquam maximus risus, vel sed vehicula.</p>
										<div class="html2pdf__page-break"></div>
									</div>
									

								</section>

						</div>
					</div>

				<!-- Sidebar -->
					<div id="sidebar">
						<!-- Will be inserted with JS -->
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="assets/js/generatePDF.js"></script>
			<script type="text/javascript">
				// On Load
				$(document).ready(function(){
					// Load sidebar
					$('#sidebar').load('navbar.html');

					// Insert today's date
					var d = new Date();
					var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
					document.getElementById("date").innerHTML = d.getDate() + ' ' + months[d.getMonth()] + ' ' + d.getFullYear();
				});
			</script>

	</body>
</html>